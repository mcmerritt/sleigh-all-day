<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Go Birds Tree</title>
<style>
body {
  background: #001f3f;
  color: white;
  font-family: monospace;
  text-align: center;
  overflow: hidden;
  padding-top: 50px;
}

#tree {
  display: inline-block;
}

.tree-line {
  font-size: 48px;
  line-height: 1.2;
}

.light {
  animation: blink 1.2s infinite alternate;
}

@keyframes blink {
  0% {opacity: 1;}
  50% {opacity: 0.2;}
  100% {opacity: 1;}
}

#holiday-text {
  font-size: 50px;
  font-weight: bold;
  position: absolute; /* position independently */
  left: 50%;
  transform: translate(-50%, 100px); /* start below tree */
  opacity: 0;
  transition: transform 1s ease, opacity 1s ease, color 0.8s ease;
}
.snowflake {
  position: absolute;
  top: -2%;
  font-size: 20px;
  color: white;
  user-select: none;
  pointer-events: none;
}
</style>
</head>
<body>

<div id="tree"></div>
<h2 id="holiday-text">Go Birds ü¶Öüíöü¶Ö</h2>

<script>
const treeLines = [
  "       ‚≠ê       ",
  "       *       ",
  "      ***      ",
  "     *üéÑ*     ",
  "    *****    ",
  "   *‚ú®‚ú®*   ",
  "  *******  ",
  " *üéÅ‚ú®üéÅ* ",
  "*********"
];

const treeDiv = document.getElementById("tree");
const holidayText = document.getElementById("holiday-text");

function addLights(line) {
  return line.replace(/‚ú®|üéÑ|üéÅ/g, match => `<span class="light">${match}</span>`);
}

let index = 0;
function growTree() {
  if(index < treeLines.length){
    const lineDiv = document.createElement("div");
    lineDiv.classList.add("tree-line");
    lineDiv.innerHTML = addLights(treeLines[index]);
    treeDiv.appendChild(lineDiv);
    index++;
    setTimeout(growTree, 400);
  } else {
    showHolidayText();
  }
}

function twinkleLights() {
  const lights = document.querySelectorAll(".light");
  setInterval(() => {
    lights.forEach(light => {
      if(Math.random() > 0.5) light.style.opacity = Math.random();
    });
  }, 300);
}

function createSnowflake() {
  const snowflake = document.createElement("div");
  snowflake.classList.add("snowflake");
  snowflake.textContent = "‚ùÑ";
  snowflake.style.left = Math.random() * window.innerWidth + "px";
  snowflake.style.fontSize = (10 + Math.random() * 20) + "px";
  document.body.appendChild(snowflake);

  let fall = 0;
  const speed = 1 + Math.random() * 3;
  const sway = Math.random() * 2;
  function animate() {
    fall += speed;
    snowflake.style.top = fall + "px";
    snowflake.style.left = parseFloat(snowflake.style.left) + Math.sin(fall * 0.05) * sway + "px";
    if(fall < window.innerHeight) requestAnimationFrame(animate);
    else snowflake.remove();
  }
  animate();
}

setInterval(createSnowflake, 200);

function showHolidayText() {
  // Position text dynamically below tree
  const treeRect = treeDiv.getBoundingClientRect();
  holidayText.style.top = (treeRect.bottom + 10) + "px"; // 10px below tree
  holidayText.style.opacity = 1;
  holidayText.style.transform = "translate(-50%,0)";
  
  // Alternate color
  setInterval(() => {
    holidayText.style.color = holidayText.style.color === "green" ? "white" : "green";
  }, 800);
}

growTree();
setTimeout(twinkleLights, treeLines.length * 400 + 500);
</script>

</body>
</html>
