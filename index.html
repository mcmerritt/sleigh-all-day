<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>üéÑAM I A DEVELOPER YETüéÑ</title>
<style>
  #star {
  cursor: pointer;
  display: inline-block;
  user-select: none;
  pointer-events: auto;
  position: relative;
  z-index: 20;
}

body {
  background: #001f3f;
  color: white;
  font-family: monospace;
  text-align: center;
  overflow: hidden;
  padding-top: 50px;
}

#tree {
  display: inline-block;
}

.tree-line {
  font-size: 48px;
  line-height: 1.2;
}

.light {
  animation: blink 1.2s infinite alternate;
}

@keyframes blink {
  0% {opacity: 1;}
  50% {opacity: 0.2;}
  100% {opacity: 1;}
}

.falling {
  animation: fallOff 1.2s ease-in forwards;
}

#holiday-text {
  font-size: 50px;
  font-weight: bold;
  opacity: 0; /* start hidden */
  transform: translateY(50px); /* start slightly below */
  transition: transform 1s ease, opacity 1s ease, color 0.8s ease;
  margin-top: 30px; /* space from tree */
}

.snowflake {
  position: absolute;
  top: -2%;
  font-size: 20px;
  color: white;
  user-select: none;
  pointer-events: none;
}
body {
  background: #001f3f;
  color: white;
  font-family: monospace;
  text-align: center;
  overflow: hidden;
  padding-top: 50px;
}

#tree {
  display: inline-block;
  position: relative;
  z-index: 10;
}

.tree-line {
  font-size: 48px;
  line-height: 1.2;
}

.light {
  animation: blink 1.2s infinite alternate;
}

@keyframes blink {
  0% {opacity: 1;}
  50% {opacity: 0.2;}
  100% {opacity: 1;}
}

#holiday-text {
  font-size: 50px;
  font-weight: bold;
  opacity: 0;
  transform: translateY(50px);
  transition: transform 1s ease, opacity 1s ease, color 0.8s ease;
  margin-top: 30px;
}

.snowflake {
  position: absolute;
  top: -2%;
  font-size: 20px;
  color: white;
  user-select: none;
  pointer-events: none;
}

#santa-hat {
  position: absolute;
  font-size: 40px;
  transform-origin: bottom center;
}

@keyframes jiggle {
  animation: jiggle 1.5s infinite ease-in-out;
  0%   { transform: rotate(0deg); }
  25%  { transform: rotate(-5deg); }
  50%  { transform: rotate(5deg); }
  75%  { transform: rotate(-3deg); }
  100% { transform: rotate(0deg); }
}
    @keyframes fallOff {
  0% {
    transform: rotate(0deg) translateY(0);
    opacity: 1;
  }
  100% {
    transform: rotate(720deg) translateY(600px);
    opacity: 0;
  }
}
</style>
</head>
<body>

<div id="tree"></div>
<h2 id="holiday-text">Go Birds ü¶Öüíöü¶Ö</h2>

<script>
const treeLines = [
"       <span id='star'>‚≠ê</span>       ",
  "       *       ",
  "      ***      ",
  "     *üéÑ*     ",
  "    *****    ",
  "   *‚ú®‚ú®*   ",
  "  *******  ",
  " *üéÅ‚ú®üéÅ* ",
  "*********"
];
function addSantaHat() {
  const star = document.getElementById("star");
  if (!star) return;

  const hat = document.createElement("div");
  hat.id = "santa-hat";
  hat.textContent = "üéÖ";
  hat.classList.add("jiggle");

  document.body.appendChild(hat);

  const starRect = star.getBoundingClientRect();
  hat.style.left = starRect.left + starRect.width / 2 - 20 + "px";
  hat.style.top = starRect.top - 30 + "px";

  let fallen = false;

  star.addEventListener("click", () => {
    if (fallen) return;
    fallen = true;

    hat.classList.remove("jiggle");
    hat.classList.add("falling");
  });
}

const treeDiv = document.getElementById("tree");
const holidayText = document.getElementById("holiday-text");

function addLights(line) {
  return line.replace(/‚ú®|üéÑ|üéÅ/g, match => `<span class="light">${match}</span>`);
}

let index = 0;
function growTree() {
  if(index < treeLines.length){
    const lineDiv = document.createElement("div");
    lineDiv.classList.add("tree-line");
    lineDiv.innerHTML = addLights(treeLines[index]);
    treeDiv.appendChild(lineDiv);
    index++;
    setTimeout(growTree, 400);
  } else {
    addSantaHat();
    showHolidayText();
  }
}

function twinkleLights() {
  const lights = document.querySelectorAll(".light");
  setInterval(() => {
    lights.forEach(light => {
      if(Math.random() > 0.5) light.style.opacity = Math.random();
    });
  }, 300);
}

function createFallingThing() {
  const thing = document.createElement("div");
  thing.classList.add("snowflake");

  // 70% snow, 30% eagle
  thing.textContent = Math.random() < 0.7 ? "‚ùÑÔ∏è" : "ü¶Ö";

  thing.style.left = Math.random() * window.innerWidth + "px";
  thing.style.fontSize = (16 + Math.random() * 24) + "px";
  document.body.appendChild(thing);

  let fall = -50;
  const speed = 1 + Math.random() * 3;
  const sway = Math.random() * 2;

  function animate() {
    fall += speed;
    thing.style.top = fall + "px";
    thing.style.left =
      parseFloat(thing.style.left) + Math.sin(fall * 0.05) * sway + "px";

    if (fall < window.innerHeight) {
      requestAnimationFrame(animate);
    } else {
      thing.remove();
    }
  }

  animate();

}

setInterval(createFallingThing, 220);

function showHolidayText() {
  // reveal text with slide-up animation
  holidayText.style.opacity = 1;
  holidayText.style.transform = "translateY(0)";
  
  // alternate colors
  setInterval(() => {
    holidayText.style.color = holidayText.style.color === "green" ? "white" : "green";
  }, 800);
}

growTree();
setTimeout(twinkleLights, treeLines.length * 400 + 500);
</script>

</body>
</html>
